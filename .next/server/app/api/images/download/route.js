(()=>{var e={};e.id=803,e.ids=[803],e.modules={517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4912:()=>{},6271:(e,t,r)=>{"use strict";r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>q,patchFetch:()=>w,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>x});var a={};r.r(a),r.d(a,{POST:()=>c});var s=r(6084),o=r(8179),i=r(3075),n=r(1945),u=r(5548);let p={USER_AGENT:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",TIMEOUT:3e4};async function c(e){try{let{url:t}=await e.json(),r=await u.Z.get(t,{responseType:"arraybuffer",headers:{"User-Agent":p.USER_AGENT,Accept:"image/*,*/*;q=0.8","Cache-Control":"no-cache",Pragma:"no-cache"},timeout:p.TIMEOUT,maxBodyLength:1/0,maxContentLength:1/0}),a=r.headers["content-type"],s=t.split("/").pop()?.split("?")[0]||"image";return new n.Z(r.data,{headers:{"Content-Type":a||"image/jpeg","Content-Disposition":`attachment; filename="${s}"`,"Cache-Control":"no-store, must-revalidate",Pragma:"no-cache"}})}catch(e){return console.error("Download error:",e),n.Z.json({error:"Failed to download image"},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/images/download/route",pathname:"/api/images/download",filename:"route",bundlePath:"app/api/images/download/route"},resolvedPagePath:"D:\\Bhavesh\\webdl\\src\\app\\api\\images\\download\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:h,serverHooks:m,headerHooks:g,staticGenerationBailout:x}=d,q="/api/images/download/route";function w(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[867,230],()=>r(6271));module.exports=a})();